(this.webpackJsonpsimplexpend=this.webpackJsonpsimplexpend||[]).push([[0],{58:function(e,t,a){},71:function(e,t,a){e.exports=a(90)},83:function(e,t,a){e.exports=a.p+"static/media/receipt.c39872a4.svg"},89:function(e,t,a){},90:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(17),c=a.n(r),o=a(37),i=a(26),s=a(34),m=a(94),u=a(93),E=function(){var e=l.a.useState(!1),t=Object(s.a)(e,2),a=t[0],n=t[1];return l.a.createElement(m.a,{expanded:a,expand:"sm",bg:"light",variant:"light",fixed:"top"},l.a.createElement(m.a.Brand,{href:"/"},l.a.createElement("img",{alt:"logo",height:"30",className:"d-inline-block align-top",src:"/images/logo.png"})),l.a.createElement(m.a.Toggle,{onClick:function(){return n(!a&&"expanded")},"aria-controls":"responsive-navbar-nav"}),l.a.createElement(m.a.Collapse,{id:"responsive-navbar-nav",className:"justify-content-end"},l.a.createElement(u.a,null,l.a.createElement(o.b,{onClick:function(){return n(!1)},className:"nav-link",to:"/new-expense"},"New Expense"),l.a.createElement(o.b,{onClick:function(){return n(!1)},className:"nav-link",to:"/dashboard"},"Dashboard"),l.a.createElement(o.b,{onClick:function(){return n(!1)},className:"nav-link",to:"/about"},"About"))))},d=a(43),p=a(11),h=(a(58),function(){return l.a.createElement(d.a,{className:"login-card-element"},l.a.createElement(d.a.Header,null,"Welcome!"),l.a.createElement(d.a.Body,null,l.a.createElement(d.a.Title,{className:"text-center"},"Sign in with:"),l.a.createElement(p.a,{block:!0,className:"btn-facebook"},"Facebook"),l.a.createElement("br",null),l.a.createElement(p.a,{block:!0,className:"btn-google"},"Google"),l.a.createElement("br",null),l.a.createElement(p.a,{block:!0,className:"btn-github"},"Github"),l.a.createElement("br",null)))}),g=a(30),b=a(31),f=a(35),v=a(32),_=a(36),R=a(24),y=function(e){return{type:"RECEIPT_IMAGE_LOADED",payload:{receiptURL:e}}},N=a(70);var P=Object(R.b)((function(e){return{}}),{})((function(e){var t=e.width,a=e.heightPercent,n=Object(N.a)(e,["width","heightPercent"]),r={height:"0",overflow:"hidden",paddingTop:a,position:"relative"};return l.a.createElement("div",{style:{width:t,margin:"auto"}},l.a.createElement("div",Object.assign({},n,{style:r}),l.a.createElement("div",{style:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%"}},e.children)))})),O=a(69),A=["image/jpeg","image/png"],D=20971520;function C(e){if(e[0]){var t=document.getElementById("receiptImg");t.src=URL.createObjectURL(e[0]),t.style.display="block",document.getElementById("ahs-ar-box").style.display="none"}}function T(e){console.dir(e);var t=e[0];t&&(!1===A.includes(t.type)?alert("your file must be a supported image"):t.size>D&&alert("your file is too large. 3MiB limit."))}var k=Object(R.b)((function(e){return{}}),{receiptLoaded:y})((function(){var e=Object(O.a)({allow:A,maxSize:D,onDrop:C,onDrag:null,noDragEventsBubbling:!0,onDragEnter:null,onDragLeave:null,onDragOver:null,onDropAccepted:null,onDropRejected:T,onFileDialogCancel:null,preventDropOnDocument:!0,multiple:!1}),t=e.getRootProps,a=e.getInputProps,n=e.isDragActive;return l.a.createElement(l.a.Fragment,null,l.a.createElement("img",{id:"receiptImg",style:{display:"none"}}),l.a.createElement(P,{id:"ahs-ar-box",width:"200px",heightPercent:"120%"},l.a.createElement("div",Object.assign({className:"ahs-dropzone"},t()),l.a.createElement("input",Object.assign({className:"dropzone-input"},a())),l.a.createElement("div",{className:"text-center"},n?l.a.createElement("p",{className:"dropzone-content"},"Release to drop the files here"):l.a.createElement("p",{className:"dropzone-content"},"Drag 'n' drop some files here, or click to select files")))))})),j=a(21),x=function(){var e=l.a.useState(!1),t=Object(s.a)(e,2),a=t[0],n=t[1],r=function(){n(!1)},c=function(){console.log("add new clicked")};return l.a.createElement(l.a.Fragment,null,l.a.createElement(p.a,{block:!0,variant:"secondary",onClick:function(){return n(!0)}},"Add"),l.a.createElement(j.a,{show:a,onHide:r},l.a.createElement(j.a.Header,{closeButton:!0},l.a.createElement(j.a.Title,null,"Add New Category")),l.a.createElement(j.a.Body,null,l.a.createElement("form",{id:"add-category",action:"http://localhost:9000/add-category/"+Object({NODE_ENV:"production",PUBLIC_URL:"/app",REACT_APP_API_SERVER:"http://localhost:9000",REACT_APP_TEST_USER_ID:"1"}).REACT_APP_TEST_USER_PROVIDERID,method:"post",className:"go-bottom"},l.a.createElement("div",{className:"form-input-container"},l.a.createElement("input",{id:"category",name:"bucket_name",type:"text",required:!0}),l.a.createElement("label",{for:"description"},"New Category")))),l.a.createElement(j.a.Footer,null,l.a.createElement(p.a,{variant:"danger",onClick:r},"Cancel"),l.a.createElement(p.a,{type:"submit",form:"add-category",variant:"primary",onClick:function(e){c(),n(!1)}},"Save Changes"))))},S=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(f.a)(this,Object(v.a)(t).call(this,e))).state={categories:[]},a}return Object(_.a)(t,e),Object(b.a)(t,[{key:"fetchCategories",value:function(){var e=this;fetch("http://localhost:9000/get-categories/"+Object({NODE_ENV:"production",PUBLIC_URL:"/app",REACT_APP_API_SERVER:"http://localhost:9000",REACT_APP_TEST_USER_ID:"1"}).REACT_APP_TEST_USER_PROVIDERID).then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({categories:t})}))}},{key:"renderCategories",value:function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("option",{value:"",selected:!0},"Select a category"),e.map((function(e,t){return l.a.createElement("option",{value:e.id,key:t},e.bucket_name)})))}},{key:"componentDidMount",value:function(){this.fetchCategories()}},{key:"render",value:function(){l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"box__input"},l.a.createElement("input",{className:"box__file",type:"file",name:"receipt",id:"file",accept:"image/*"}),l.a.createElement("label",{htmlFor:"file"},l.a.createElement("strong",null,"Choose a file"),l.a.createElement("span",{className:"box__dragndrop"}," or drag it here"),"."),l.a.createElement("button",{className:"box__button",type:"submit"},"Upload")),l.a.createElement("div",{className:"box__uploading"},"Uploading\u2026"),l.a.createElement("div",{className:"box__success"},"Done!"),l.a.createElement("div",{className:"box__error"},"Error! ",l.a.createElement("span",null),"."));return l.a.createElement("div",null,l.a.createElement("form",{action:"http://localhost:9000/add-expense/"+Object({NODE_ENV:"production",PUBLIC_URL:"/app",REACT_APP_API_SERVER:"http://localhost:9000",REACT_APP_TEST_USER_ID:"1"}).REACT_APP_TEST_USER_PROVIDERID,method:"post",className:"go-bottom"},l.a.createElement("div",{className:"form-input-container"},l.a.createElement(k,null)),l.a.createElement("div",{className:"form-input-container"},l.a.createElement("input",{id:"description",name:"description",type:"text",required:!0}),l.a.createElement("label",{for:"description"},"Expense Description")),l.a.createElement("div",{className:"form-input-container"},l.a.createElement("input",{id:"amount",name:"amount",type:"text",required:!0}),l.a.createElement("label",{for:"amount"},"Expense Amount")),l.a.createElement("div",{className:"form-date form-input-container"},l.a.createElement("input",{id:"date",name:"date",type:"date",required:!0}),l.a.createElement("label",{for:"date"},"Expense Date")),l.a.createElement("div",{className:"category-container"},l.a.createElement("div",{className:"form-input-container form-select-container"},l.a.createElement("select",{id:"category",name:"bucket_id"},this.renderCategories(this.state.categories))),l.a.createElement("div",{className:"add-category-btn-container"},l.a.createElement(x,null))),l.a.createElement(p.a,{type:"submit",block:!0,className:"form-save-btn"},"Save New Expense")))}}]),t}(l.a.Component);var I=Object(R.b)((function(e){return{}}),{receiptLoaded:y})(S),U=a(51),w=a(38),L=(a(83),function(){var e=l.a.useState(!1),t=Object(s.a)(e,2),a=t[0],n=t[1];return l.a.createElement("span",null,l.a.createElement("span",{onClick:function(){return n(!0)}},"Receipt"),l.a.createElement(j.a,{show:a,onHide:function(){return n(!1)}},l.a.createElement(j.a.Header,{closeButton:!0},l.a.createElement("h2",null,"Receipt")),l.a.createElement(j.a.Body,{className:"receipt-image-container"},l.a.createElement("img",{className:"receipt-image",alt:"receipt",src:"https://cdn2.thecatapi.com/images/dub.jpg"}))))}),B=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(f.a)(this,Object(v.a)(t).call(this,e))).state={isFetching:!1,expenses:[]},a}return Object(_.a)(t,e),Object(b.a)(t,[{key:"fetchExpenses",value:function(){var e=this;fetch("http://localhost:9000/get-expenses/"+Object({NODE_ENV:"production",PUBLIC_URL:"/app",REACT_APP_API_SERVER:"http://localhost:9000",REACT_APP_TEST_USER_ID:"1"}).REACT_APP_TEST_USER_PROVIDERID).then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({expenses:t})}))}},{key:"renderTable",value:function(e,t){var a=e.reduce((function(e,a){return a.status===t&&e.push(a),e}),[]);return l.a.createElement("tbody",null,a.map((function(e,t){return l.a.createElement("tr",{key:t},l.a.createElement("td",null,e.bucket_name),l.a.createElement("td",null,e.expense_date,l.a.createElement("br",null),e.receipt_name),l.a.createElement("td",null,e.amount),l.a.createElement("td",null,l.a.createElement(w.a,null,l.a.createElement(w.a.Toggle,{size:"sm",variant:"secondary"},l.a.createElement(w.a.Menu,null,l.a.createElement(w.a.Item,null,l.a.createElement(L,null)),l.a.createElement(w.a.Item,null,"Edit"))))))})))}},{key:"componentDidMount",value:function(){this.fetchExpenses()}},{key:"render",value:function(){return l.a.createElement("div",{id:"expenseTable"},l.a.createElement("h3",null,"Not Submitted"),l.a.createElement(U.a,{bordered:!0,hover:!0,size:"sm"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Category"),l.a.createElement("th",null,"Description"),l.a.createElement("th",null,"Amount"),l.a.createElement("th",null,"Actions"))),this.renderTable(this.state.expenses,"Not submitted")),l.a.createElement("h3",null,"Pending"),l.a.createElement(U.a,{bordered:!0,hover:!0,size:"sm"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Category"),l.a.createElement("th",null,"Description"),l.a.createElement("th",null,"Amount"),l.a.createElement("th",null,"Date"))),this.renderTable(this.state.expenses,"Pending")),l.a.createElement("h3",null,"Paid"),l.a.createElement(U.a,{bordered:!0,hover:!0,size:"sm"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Category"),l.a.createElement("th",null,"Description"),l.a.createElement("th",null,"Amount"),l.a.createElement("th",null,"Date"))),this.renderTable(this.state.expenses,"Paid")))}}]),t}(l.a.Component),V=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(f.a)(this,Object(v.a)(t).call(this,e))).state={greeting:""},a}return Object(_.a)(t,e),Object(b.a)(t,[{key:"fetchUserName",value:function(){var e=this;fetch("http://localhost:9000/get-user/"+Object({NODE_ENV:"production",PUBLIC_URL:"/app",REACT_APP_API_SERVER:"http://localhost:9000",REACT_APP_TEST_USER_ID:"1"}).REACT_APP_TEST_USER_PROVIDERID).then((function(e){return e.json()})).then((function(t){e.setState({greeting:"Hello, "+t[0].first_name+"!"})}))}},{key:"componentDidMount",value:function(){this.fetchUserName()}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h1",null,this.state.greeting),l.a.createElement(B,null))}}]),t}(l.a.Component);a(85).config();var z=function(){return l.a.createElement("div",null,l.a.createElement(o.a,null,l.a.createElement(E,null),l.a.createElement("div",{className:"container"},l.a.createElement(i.c,null,l.a.createElement(i.a,{path:"/new-expense"},l.a.createElement(I,null)),l.a.createElement(i.a,{path:"/dashboard"},l.a.createElement(V,null)),l.a.createElement(i.a,{path:"/about"},l.a.createElement("h1",null,"About")),l.a.createElement(i.a,{path:"/"},l.a.createElement(h,null))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var F=a(33),M={};function H(e){return JSON.parse(JSON.stringify(e))}var q=Object(F.b)({uploadForm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0,a=H(e),n=t.type;if("RECEIPT_IMAGE_LOADED"===n){var l=t.payload.receiptURL;""!==a.receiptURL&&URL.revokeObjectURL(a.receiptURL),a.receiptURL=l}return a}}),G=Object(F.c)(q),J=(a(88),a(89),document.getElementById("root"));c.a.render(l.a.createElement(R.a,{store:G},l.a.createElement(z,null)),J),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[71,1,2]]]);
//# sourceMappingURL=main.ca92c7de.chunk.js.map